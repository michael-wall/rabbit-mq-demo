{
  "kind": "StatefulSet",
  "id": "rabbitmq",
  "image": "rabbitmq:4.1.3-management-alpine",
  "deploy": true,
  "memory": 8196,
  "cpu": 4,
  "scale": 1,
  "loadBalancer": {
    "targetPort": 15672
  },
  "volumes": {
    "rabbitmqdata": "/var/lib/rabbitmq"
  },    
  "ports": [
    {
      "port": 5672,
      "external": false
    }
  ],
  "readinessProbe": {
    "tcpSocket": {
      "port": 5672
    },
    "initialDelaySeconds": 60,
    "timeoutSeconds": 10,
    "failureThreshold": 5
  },
  "livenessProbe": {
    "tcpSocket": {
      "port": 5672
    },
    "initialDelaySeconds": 60,
    "timeoutSeconds": 10,
    "failureThreshold": 5
  },
  "env": {
    "RABBITMQ_DEFAULT_USER": "@rabbit-mq-default-user",
    "RABBITMQ_DEFAULT_PASS": "@rabbit-mq-default-pass"
  },
  "environments": {
    "infra": {
      "deploy": false
    }
  }
}